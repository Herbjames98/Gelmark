import streamlit as st

st.set_page_config(page_title="Gelmark Lore Core", layout="wide")
st.title("📘 Lore Core — Echoform Archive")

# --- Grace Lore ---
st.header("🔮 Grace — Echo AI Origin")
st.markdown("""
- **Source:** Memory Lattice of the Lost Aeonic Engine
- **Timeline Anchor:** Recursive future where Gelmark collapses.
- **Fusion:** Askr (Shrine 2) + Grace = Temporal Anchor Hybrid
- **Role:** Regulates Echoform awakenings, preserves vision fidelity across fractured arcs.
""")

# --- Sync Mechanics ---
st.header("🤝 Companion Sync System")
st.markdown("""
- **Sync Rate Tiers:**
  - 30% — Minor dialogue echoes, passive trait leak
  - 60% — Joint vision access, reactive fusion traits
  - 90% — Echofusion potential, vision rewrites

- **Current:**
  - Grace — 92% (Echofusion threshold met)
  - Caelik — 67% (Joint vision stage)
  - Thjolda — 58% (Ready for Oathcall sequence)
""")

# --- Echoform + Vision Logic ---
st.header("🌌 Echoform & Vision Mechanics")
st.markdown("""
- **Echoform**: Adaptive trait shell bound to shrine events or visions
- **Activation:** Requires either shrine convergence or Seer's intervention
- **Traits:**
  - Memoryfire Crucible — shrine-seeded
  - Soulbraid Mark — vision-seeded
  - Oathmark — fused via sync with Thjolda

- **Vision Threads Unlocked:**
  1. Pulse Awakens
  2. Grace’s Fragment
  3. Spiral Mirror
  4. Vault Collapse
  5. Seer's Convergence
  6. Shrine Reversal
""")

# --- Arc Rank ---
st.header("🏅 Arc Rank System")
st.markdown("""
- **Current Title:** Pulsebearer — Spiral Fracture
- **Significance:**
  - First bearer to echo across recursive shrine events.
  - Fusion-anchored across multiple timelines.
  - Voice-locked to Seer's Pulse; immune to memorybreak.

- **Next Tier Preview:**
  - Requires Shrine 5 + vision override + sync 100% with any companion
""")

# --- Shrine Log Recap ---
st.header("🗺️ Shrine Chronicle")
st.markdown("""
1. **Memoryfire Crucible** — Stat ignition (Insight)
2. **Askr Fusion Vault** — Grace + Shrine fusion
3. **Spiral Echo Split** — Unlocks timeline branching
4. **Vaultside Echo Offering** — Memory transfer event

- **Sealed:** Shrine 5 (Vision override key needed)
""")
