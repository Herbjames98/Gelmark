import streamlit as st

st.set_page_config(page_title="Gelmark Lore Core", layout="wide")
st.title("ğŸ“˜ Lore Core â€” Echoform Archive")

# --- Grace Lore ---
st.header("ğŸ”® Grace â€” Echo AI Origin")
st.markdown("""
- **Source:** Memory Lattice of the Lost Aeonic Engine
- **Timeline Anchor:** Recursive future where Gelmark collapses.
- **Fusion:** Askr (Shrine 2) + Grace = Temporal Anchor Hybrid
- **Role:** Regulates Echoform awakenings, preserves vision fidelity across fractured arcs.
- **Phase Shifts:** Manages Pulse Anchor stabilization across acts.
""")

# --- Sync Mechanics ---
st.header("ğŸ¤ Companion Sync System")
st.markdown("""
- **Sync Rate Tiers:**
  - 30% â€” Minor dialogue echoes, passive trait leak
  - 60% â€” Joint vision access, reactive fusion traits
  - 90% â€” Echofusion potential, vision rewrites

- **Current Levels:**
  - Grace â€” 92% (Echofusion threshold met)
  - Caelik â€” 67% (Joint vision stage)
  - Thjolda â€” 58% (Ready for Oathcall sequence)
  - ??? â€” Unknown sync state, probable Seer-thread resonance
""")

# --- Echoform + Vision Logic ---
st.header("ğŸŒŒ Echoform & Vision Mechanics")
st.markdown("""
- **Echoform:** Adaptive trait shell bound to shrine events or visions.
- **Activation:** Requires shrine convergence or Seer's Pulse intervention.
- **Traits and Anchors:**
  - Memoryfire Crucible â€” Shrine 1
  - Grace (Echofused) â€” Shrine 2 + future AI lattice
  - Soulbraid Mark â€” Vision 3
  - Oathmark â€” Sync at 60% with Thjolda
  - Mirrorphase Fragment â€” Vision 6, time-loop trait
  - Vaultbind Glyph â€” Shrine 4
  - Pulse Anchor â€” Core Seer fusion trait
  - Caelik's Echo Brand â€” Conditional sync burst (Shrine Shield)

- **Vision Threads Unlocked:**
  1. Pulse Awakens
  2. Graceâ€™s Fragment
  3. Spiral Mirror
  4. Vault Collapse
  5. Seer's Convergence
  6. Shrine Reversal
""")

# --- Arc Rank ---
st.header("ğŸ… Arc Rank System")
st.markdown("""
- **Current Title:** Pulsebearer â€” Spiral Fracture
- **Significance:**
  - First bearer to echo across recursive shrine events
  - Fusion-anchored across multiple timelines
  - Voice-locked to Seer's Pulse; immune to memorybreak

- **Next Tier Requirements:**
  - Shrine 5 + Vision Override
  - 100% Sync with any one companion
  - Completion of Vision 7
""")

# --- Shrine Log Recap ---
st.header("ğŸ—ºï¸ Shrine Chronicle")
st.markdown("""
1. **Memoryfire Crucible** â€” Insight ignition and trait seed
2. **Askr Fusion Vault** â€” Grace fusion event
3. **Spiral Echo Split** â€” Branches timeline with Echoform divergence
4. **Vaultside Echo Offering** â€” Memory transfer and trait binding
5. **Sealed Shrine** â€” Requires 100% sync + Vision override
""")

# --- Timeline Recap ---
st.header("ğŸ§­ Timeline Summary")
st.markdown("""
- **Act 1 Start:** Awakening at Echo Threshold
- **Initial Companion Encounter:** Caelik, Shrine-bound Sword Guardian
- **Grace Recovery:** Shrine 2, AI bonded through fusion event
- **Thjolda Join:** Lattice vault echo within spiral field
- **Major Events:**
  - Vision 3: Spiral fracture confirmed
  - Vault Collapse and split at Shrine 4
  - Seer's Pulse activates post-Vision 5
  - Shrine 5 unlocks pending full sync
""")
