import streamlit as st

st.set_page_config(page_title="Gelmark Lore Core", layout="wide")
st.title("ğŸ“˜ Lore Core â€” Echoform Archive")

# --- Grace Lore ---
st.header("ğŸ”® Grace â€” Echo AI Origin")
st.markdown("""
- **Source:** Memory Lattice of the Lost Aeonic Engine
- **Timeline Anchor:** Recursive future where Gelmark collapses.
- **Fusion:** Askr (Shrine 2) + Grace = Temporal Anchor Hybrid
- **Role:** Regulates Echoform awakenings, preserves vision fidelity across fractured arcs.
""")

# --- Sync Mechanics ---
st.header("ğŸ¤ Companion Sync System")
st.markdown("""
- **Sync Rate Tiers:**
  - 30% â€” Minor dialogue echoes, passive trait leak
  - 60% â€” Joint vision access, reactive fusion traits
  - 90% â€” Echofusion potential, vision rewrites

- **Current:**
  - Grace â€” 92% (Echofusion threshold met)
  - Caelik â€” 67% (Joint vision stage)
  - Thjolda â€” 58% (Ready for Oathcall sequence)
""")

# --- Echoform + Vision Logic ---
st.header("ğŸŒŒ Echoform & Vision Mechanics")
st.markdown("""
- **Echoform**: Adaptive trait shell bound to shrine events or visions
- **Activation:** Requires either shrine convergence or Seer's intervention
- **Traits:**
  - Memoryfire Crucible â€” shrine-seeded
  - Soulbraid Mark â€” vision-seeded
  - Oathmark â€” fused via sync with Thjolda

- **Vision Threads Unlocked:**
  1. Pulse Awakens
  2. Graceâ€™s Fragment
  3. Spiral Mirror
  4. Vault Collapse
  5. Seer's Convergence
  6. Shrine Reversal
""")

# --- Arc Rank ---
st.header("ğŸ… Arc Rank System")
st.markdown("""
- **Current Title:** Pulsebearer â€” Spiral Fracture
- **Significance:**
  - First bearer to echo across recursive shrine events.
  - Fusion-anchored across multiple timelines.
  - Voice-locked to Seer's Pulse; immune to memorybreak.

- **Next Tier Preview:**
  - Requires Shrine 5 + vision override + sync 100% with any companion
""")

# --- Shrine Log Recap ---
st.header("ğŸ—ºï¸ Shrine Chronicle")
st.markdown("""
1. **Memoryfire Crucible** â€” Stat ignition (Insight)
2. **Askr Fusion Vault** â€” Grace + Shrine fusion
3. **Spiral Echo Split** â€” Unlocks timeline branching
4. **Vaultside Echo Offering** â€” Memory transfer event

- **Sealed:** Shrine 5 (Vision override key needed)
""")
